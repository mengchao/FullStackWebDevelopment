<!doctype html>
<html>
<head>
    <title>Color Guessing Game</title>
    <meta name="author" content="Chao Meng">
</head>
<body onload="do_game()">
    <script>
        var colors=["blue", "cyan", "gold", "gray", "green", "magenta",
                    "orange", "red", "white", "yellow"].sort();
        var target_index;
        var target;
        var guess_input;
        var finished = false;
        var guesses = 0;

        function do_game() {
            var random_number = Math.random() * colors.length;
            var random_number_integer = Math.floor(random_number);
            target_index = random_number_integer;
            target = colors[target_index];
            alert(target);

            while (!finished) {
                guess_input = prompt("I am thinking of a one of " +
                                     "these colors:\n\n" +
                                     colors.join(", ") +
                                     "\n\nWhat color am I thinking of?");
                guesses += 1;
                finished = check_guess();
            }

        }

        function check_guess() {
            if (colors.indexOf(guess_input) == -1) {
                alert("Sorry, I don't recognize your color.\n\n" +
                      "Please try again.");
                return false;
            }
            else if (guess_input > target) {
                alert("Sorry, your guess is not correct!\n\n" +
                      "Hint: your color is alphabetically higher than mine." +
                      "\n\nPlease try again.");
                return false;
            }
            else if (guess_input < target) {
              alert("Sorry, your guess is not correct!\n\n" +
                    "Hint: your color is alphabetically lower than mine." +
                    "\n\nPlease try again.");
                return false;
            }

            var myBody=document.getElementsByTagName("body")[0];
            myBody.style.background=target;

            alert("Congratulations! You have guessed the color!\n\n" +
                  "It took you " + guesses +
                  " guesses to finish the game!\n\n" +
                  "You can see the colour in the background.");
            return true;
        }
    </script>
</body>
</html>
